{% style %}
    :root {
    --flip-card-size: {{ section.settings.card_size | default: 52 }}px;
    --flip-card-radius: {{ section.settings.card_radius | default: 8 }}px;
    --flip-animation-duration: {{ section.settings.flip_duration | default: 0.5 }}s;
    --gradient-animation-duration: {{ section.settings.gradient_duration | default: 10 }}s;

    /* 颜色变量根据schema设置动态生成 */
    --container-bg: {{ section.settings.container_bg_color | default: 'linear-gradient(135deg, rgba(255,240,245,0.9) 0%, rgba(255,250,252,0.95) 100%)' }};
    --container-border: {{ section.settings.container_border_color | default: '#ffffff' }};
    --multi-text-gradient: {{ section.settings.multi_text_color | default: 'linear-gradient(90deg, #e91e63 0%, #d81b60 25%, #c2185b 50%, #ad1457 75%, #880e4f 100%)' }};
    --time-label-color: {{ section.settings.time_label_color | default: '#ad1457' }};

    /* 卡片渐变变量 */
    --card-day-gradient: {{ section.settings.card_day_gradient | default: 'linear-gradient(135deg, #e91e63, #f06292)' }};
    --card-hour-gradient: {{ section.settings.card_hour_gradient | default: 'linear-gradient(135deg, #ab47bc, #ce93d8)' }};
    --card-minute-gradient: {{ section.settings.card_minute_gradient | default: 'linear-gradient(135deg, #5c6bc0, #9fa8da)' }};
    --card-second-gradient: {{ section.settings.card_second_gradient | default: 'linear-gradient(135deg, #26a69a, #80cbc4)' }};

    }
    /* 容器样式*/
    .flipping-container {
    margin: 0 auto;
    padding: 1.2rem 1rem;
    max-width: 100%;
    text-align: center;
    background: var(--container-bg);
    border-radius: 16px;
    box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.05),
    inset 0 0 0 1px rgba(255, 255, 255, 0.8);
    box-sizing: border-box;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.6);
    }

    /* 标题样式 */
    .activity-title {
    padding: 0.2rem 0 1rem;
    font-size: clamp(18px, 4.5vw, 22px);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    background: linear-gradient(90deg,
    #e91e63 0%,
    #d81b60 25%,
    #c2185b 50%,
    #ad1457 75%,
    #880e4f 100%
    );
    background-size: 300%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: gradient-move var(--gradient-animation-duration) linear infinite;
    }

    /* 卡片容器布局 */
    .card-flipping-effect-box {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.8rem;
    flex-wrap: wrap;
    margin: 0 auto;
    max-width: 480px;
    }

    /* 卡片盒子 */
    .flipping-card__box {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0.2rem;
    min-width: 45px;
    }

    /* 单个卡片容器 */
    .card-flipping-item-box {
    position: relative;
    width: var(--flip-card-size);
    height: var(--flip-card-size);
    border-radius: 8px;
    overflow: hidden;
    background: var(--page-bg-color);
    box-shadow:
    0 3px 10px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(255, 255, 255, 0.9);
    }

    .card-flipping-item-box:hover {
    transform: translateY(-2px);
    box-shadow:
    0 5px 15px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
    }

    /* 卡片基础样式 */
    .card-item {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    color: white;
    text-align: center;
    line-height: calc(var(--flip-card-size) * 0.5);
    overflow: hidden;
    backface-visibility: hidden;
    letter-spacing: 1px;
    font-size: 1.3rem;
    font-weight: 700;
    font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    }

    /* 卡片位置 */
    .card_1 {
    z-index: 1;
    border-bottom: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 8px 8px 0 0;
    }

    .card_2 {
    top: 50%;
    line-height: 0;
    transform: rotateX(180deg);
    transform-origin: center top;
    z-index: 2;
    }

    .card_3 {
    transform: rotateX(0deg);
    transform-origin: center bottom;
    z-index: 3;
    }

    .card_4 {
    top: 50%;
    line-height: 0;
    z-index: 4;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 0 0 8px 8px;
    }

    .card_1, .card_3 {
    line-height: var(--flip-card-size);
    }

    /* DAY 卡片 - 粉色系 */
    .card-flipping-day .card-item {
    background: var(--card-day-gradient);
    }

    .card-flipping-day .card_2,
    .card-flipping-day .card_3 {
    background: linear-gradient(135deg, #f06292, #f8bbd9);
    }

    /* HOUR 卡片 - 紫色系 */
    .card-flipping-hour .card-item {
    background: var(--card-hour-gradient);
    }

    .card-flipping-hour .card_2,
    .card-flipping-hour .card_3 {
    background: linear-gradient(135deg, #ce93d8, #e1bee7);
    }

    /* MINUTE 卡片 - 蓝色系 */
    .card-flipping-minute .card-item {
    background: var(--card-minute-gradient);
    }

    .card-flipping-minute .card_2,
    .card-flipping-minute .card_3 {
    background: linear-gradient(135deg, #9fa8da, #c5cae9);
    }

    /* SECOND 卡片 - 青色系 */
    .card-flipping-second .card-item {
    background: var(--card-second-gradient);
    }

    .card-flipping-second .card_2,
    .card-flipping-second .card_3 {
    background: linear-gradient(135deg, #80cbc4, #b2dfdb);
    }

    /* 翻转动画类 */
    .flip_card_2 {
    animation: flip-down var(--flip-animation-duration) ease-in-out;
    z-index: 5;
    }

    .flip_card_3 {
    animation: flip-up var(--flip-animation-duration) ease-in-out;
    z-index: 5;
    }

    /* 时间标签 - 与商品文字颜色匹配 */
    .time-name {
    display: block;
    width: 100%;
    margin-top: 0.6rem;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    font-weight: 600;
    color: #ad1457; /* 商品标签的颜色 */
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    opacity: 0.9;
    }

    /* 动画定义 */
    @keyframes flip-down {
    0% {
    transform: rotateX(180deg);
    opacity: 1;
    }
    100% {
    transform: rotateX(0deg);
    opacity: 1;
    }
    }

    @keyframes flip-up {
    0% {
    transform: rotateX(0deg);
    opacity: 1;
    }
    100% {
    transform: rotateX(-180deg);
    opacity: 1;
    }
    }

    @keyframes gradient-move {
    0% { background-position: 300% 0; }
    100% { background-position: -300% 0; }
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
    .card-flipping-effect-box {
    gap: 0.7rem;
    }

    .flipping-card__box {
    min-width: 60px;
    }

    .card-flipping-item-box {
    width: 48px;
    height: 48px;
    }
    .card_1,.card_3{
        line-height: 44px;
    }
    .card-item {
    font-size: 1.1rem;
    }
    }

    @media (max-width: 500px) {
    .card-flipping-effect-box {
    gap: 0.5rem;
    }

    .flipping-card__box {
    min-width: 55px;
    }

    .card-flipping-item-box {
    width: 45px;
    height: 45px;
    }

    .activity-title {
    padding: 0.5rem 0 0.8rem;
    font-size: clamp(16px, 4vw, 20px);
    }

    .time-name {
    font-size: 0.7rem;
    letter-spacing: 1px;
    }

    .card-item {
    font-size: 1rem;
    }
    }
    /* 添加微妙的背景装饰 */
    .flipping-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg,
    rgba(233, 30, 99, 0.3),
    rgba(171, 71, 188, 0.3),
    rgba(92, 107, 192, 0.3),
    rgba(38, 166, 154, 0.3)
    );
    border-radius: 16px 16px 0 0;
    z-index: 1;
    }
{% endstyle %}

<div class="flipping-container">
    {% if localization.language.iso_code == 'en' %}
        <div class="activity-title">
            <span>{{ "activity.title" | t }}</span>
            <span>{{ "activity.countdown" | t }}</span>
        </div>
    {% else %}
        <h3 class="activity-title">{{ "activity.title" | t }}{{ "activity.countdown" | t }}</h3>
    {% endif %}

    <div class="card-flipping-effect-box">
        {%- assign time_units = "day,hour,minute,second" | split: ',' -%}
        {%- for unit in time_units -%}
            <div class="flipping-card__box">
                <div class="card-flipping-item-box card-flipping-{{ unit }}" data-time-name="{{ unit }}">
                    <div class="card-item card_1">00</div>
                    <div class="card-item card_2">00</div>
                    <div class="card-item card_3">00</div>
                    <div class="card-item card_4">00</div>
                </div>
                <div class="time-name">{{ 'activity.' | append: unit | t }}</div>
            </div>
        {%- endfor -%}
    </div>
</div>
