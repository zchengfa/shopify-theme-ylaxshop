{% style %}
.cart-container{
    position:fixed;
    top:0;
    left: 0;
    width:100vw;
    height:100%;
    background-color:rgba(0,0,0,.4);
    z-index:999;
}
.hidden{
    display:none;
}
.cart-show{
    display:block;
}
.cart-drawer{
    width: 0;
    height:100vh;
    transition: width ease-in-out .5s;
    background: var(--gradient-background);
}
.animate-drawer{
    width: 40vw;
    height:100vh;
    transition: width ease-in-out .5s;
    background: var(--gradient-background);
}
{% endstyle %}

<div class='cart-container hidden'>
    <div class='cart-drawer'>
        drawer
    </div>
</div>

<script>
const el =  document.getElementsByClassName('cart-container').item(0);

el.addEventListener('click',(e)=>{
    if(e.target === e.currentTarget){
        document.getElementsByClassName('animate-drawer').item(0).classList.remove('animate-drawer');
        let timer = setTimeout(()=>{
            el.classList.remove('cart-show');
            el.classList.add('hidden');
            clearTimeout(timer);
        },500);
    } 
});


</script>